generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgres"
  url      = env("DATABASE_URL")
}

model Faxineiro {
  id              Int        @id @default(autoincrement())
  nome            String
  email           String     @unique
  senha           String
  telefone        String?
  experiencia     String?
  disponibilidade String?
  area_atuacao    String?
  created_at      DateTime   @default(now())
  updated_at      DateTime   @updatedAt
  postagens       Postagem[]
}

model Postagem {
  id                        Int           @id @default(autoincrement())
  titulo                    String
  descricao                 String
  preco                     Float
  horarios                  String
  faxineiro                 Faxineiro     @relation(fields: [faxineiroId], references: [id])
  faxineiroId               Int
  tipoServicoRelacionamento TipoDeServico @relation(fields: [tipoServicoId], references: [id])
  tipoServicoId             Int
}

model Fornecedor {
  id    Int    @id @default(autoincrement())
  nome  String
  email String @unique
  lojas Loja[]
  senha String
}

model Loja {
  id           Int         @id @default(autoincrement())
  nome         String
  endereco     String
  contato      String
  fornecedorId Int?
  fornecedor   Fornecedor? @relation(fields: [fornecedorId], references: [id])
  produtos     Produto[]
}

model Produto {
  id        Int    @id @default(autoincrement())
  nome      String
  descricao String
  preco     Float
  lojaId    Int
  loja      Loja   @relation(fields: [lojaId], references: [id])
}

model TipoDeServico {
  id          Int        @id @default(autoincrement())
  nomeServico String     @unique
  postagens   Postagem[]

  @@map("tipos_de_servico")
}
